<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic URL Loader</title>

    <style>
        button {
            padding: 10px 20px;
            margin: 5px;
            background: #4A86E8;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 6px;
        }
    </style>
</head>
<body>

<h3>Dynamic URL Window Loader</h3>

<!-- Base URL -->
<input id="baseUrl" type="text" 
       value="http://localhost/Primary/?FlowId=01JWDYMFECEQ6WWRZ564J1H0FZ&ForceFormat=true&patientID=StringValue&alertID=StringValue&practiceID=StringValue&Location=Maximized&Chrome=Off"
       style="width: 90%; padding: 8px;" />

<br><br>

<!-- Buttons with unique variables -->
<button onclick="openWithValues('P001', 'A100', 'PRAC1')">Button 1</button>
<button onclick="openWithValues('P002', 'A200', 'PRAC2')">Button 2</button>
<button onclick="openWithValues('P003', 'A300', 'PRAC3')">Button 3</button>

<script>
function openWithValues(patientID, alertID, practiceID) {
    let url = document.getElementById("baseUrl").value;

    // Replace StringValue with actual values
    url = url.replace("patientID=StringValue", "patientID=" + encodeURIComponent(patientID));
    url = url.replace("alertID=StringValue", "alertID=" + encodeURIComponent(alertID));
    url = url.replace("practiceID=StringValue", "practiceID=" + encodeURIComponent(practiceID));

    // Open a new subwindow
    const win = window.open("", "iframeWindow", "width=1000,height=700");

    // Inject iframe
    win.document.write(`
        <!DOCTYPE html>
        <html>
        <body style="margin:0;padding:0;">
            <iframe src="${url}" style="width:100%;height:100vh;border:none;"></iframe>
        </body>
        </html>
    `);
}
</script>

</body>
</html>
